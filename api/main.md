

# 育才新闻api文档

------

## 目录

- [用户登录](#用户登录)
- [文章信息](#文章信息)
- [用户信息](#用户信息)
- [栏目信息](#栏目信息)

------

#### 用户登录

> [http://www.littleyang.ml/api/login](http://www.littleyang.ml/api/login)

*请求方式：GET*

##### 正文参数

|  参数名  | 类型 |   内容   | 必要性 | 备注 |
| :------: | :--: | :------: | :----: | :--: |
| UserName | str  |  用户名  |  必要  |      |
| Password | str  | 用户密码 |  必要  |      |
|  goUrl   | str  | 返回地址 | 非必要 |      |

##### json回复

根对象:

|  字段   | 类型 |       内容       |                             备注                             |
| :-----: | :--: | :--------------: | :----------------------------------------------------------: |
|  code   | num  |      返回值      | 0:成功<br>-653:用户名或用户密码为空<br>-629:用户名或用户密码错误 |
|   ts    | num  |    当前时间戳    |                       登录失败才会显示                       |
| message | num  |     错误信息     |                            恒为0                             |
|  data   | obj  | 登录成功返回信息 |                        登陆失败不返回                        |
|   ttl   | num  |     生存时间     |                            恒为1                             |

data对象:

|  字段   | 类型 |   内容   | 备注 |
| :-----: | :--: | :------: | :--: |
| islogin | bool | 是否登录 |      |
|  goUrl  | str  | 返回地址 |      |

------

#### 文章信息

> [http://www.littleyang.ml/api/artical](http://www.littleyang.ml/api/artical)

*请求方式：GET*

##### 正文参数

| 参数名 | 类型 |  内容  | 必要性 | 备注 |
| :----: | :--: | :----: | :----: | :--: |
| column | num  | 栏目id |  必要  |      |
|   id   | num  | 文章id |  必要  |      |

##### json回复

根对象:

|  字段   | 类型 |   内容   |               备注                |
| :-----: | :--: | :------: | :-------------------------------: |
|  code   | num  |  返回值  | 0:成功<br>-400:栏目id或文章id无效 |
| message | num  | 错误信息 |                                   |
|  data   | obj  | 返回信息 |          请求失败不返回           |
|   ttl   | num  | 生存时间 |               恒为1               |

data对象:

|   字段   | 类型 |    内容    |   备注    |
| :------: | :--: | :--------: | :-------: |
| columnid | num  |   栏目id   |           |
|    id    | num  |   文章id   |           |
|   name   | str  |  文章标题  |           |
|  author  | str  | 作者用户名 |           |
|   view   | num  |   观看量   |           |
|   like   | num  |   点赞量   | 暂时恒为0 |

------

#### 用户信息

> [http://www.littleyang.ml/api/account](http://www.littleyang.ml/api/account)

*请求方式：GET*

##### 正文参数

| 参数名 | 类型 |  内容  | 必要性 | 备注 |
| :----: | :--: | :----: | :----: | :--: |
|  uid   | num  | 用户id |  必要  |      |

##### json回复

根对象:

|  字段   | 类型 |   内容   |           备注            |
| :-----: | :--: | :------: | :-----------------------: |
|  code   | num  |  返回值  | 0:成功<br>-400:用户id无效 |
| message | num  | 错误信息 |                           |
|  data   | obj  | 返回信息 |      请求失败不返回       |
|   ttl   | num  | 生存时间 |           恒为1           |

data对象:

|    字段    | 类型 |         内容         |                  备注                  |
| :--------: | :--: | :------------------: | :------------------------------------: |
|    uid     | num  |        用户id        |                                        |
|    name    | str  |        用户名        |                                        |
|   birth    | date |         生日         |                                        |
|   school   | str  |         学校         |                                        |
|   class    | num  |         班级         |                                        |
|   grade    | num  |         年级         |                                        |
|   title    | str  |         称号         |                                        |
|    mail    | str  |         邮箱         |                                        |
|     QQ     | num  |         QQ号         |                                        |
|    bili    | str  | 用户哔哩哔哩主页地址 |                                        |
|   header   | str  |     用户头像地址     |                                        |
| background | str  |    用户背景图地址    |                                        |
| authority  | num  |       用户权限       | 0:普通权限<br>1:记者权限<br>2:超管权限 |

------

#### 栏目信息

> [http://www.littleyang.ml/api/column](http://www.littleyang.ml/api/column)

*请求方式：GET*

##### 正文参数

| 参数名 | 类型 |  内容  | 必要性 | 备注 |
| :----: | :--: | :----: | :----: | :--: |
|   id   | num  | 栏目id |  必要  |      |

##### json回复

根对象:

|  字段   | 类型 |   内容   |           备注            |
| :-----: | :--: | :------: | :-----------------------: |
|  code   | num  |  返回值  | 0:成功<br>-400:栏目id无效 |
| message | num  | 错误信息 |                           |
|  data   | obj  | 返回信息 |      请求失败不返回       |
|   ttl   | num  | 生存时间 |           恒为1           |

data对象:

|   字段   | 类型 |     内容     | 备注 |
| :------: | :--: | :----------: | :--: |
|    id    | num  |    栏目id    |      |
|   name   | str  |    栏目名    |      |
| opentime | date | 创建栏目时间 |      |
| overtime | date | 截止投稿时间 |      |
|   view   | num  |    观看量    |      |
